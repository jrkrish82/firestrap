<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Fire Strap</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU"
        crossorigin="anonymous">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.15/css/mdb.min.css" rel="stylesheet">
    <link id="theme" href="css/theme.css" rel="stylesheet">
</head>

<body>
    <div id="container">
        <div id="header">
<!--             <div class="topMenu p-1">
                Welcome : User | profile | logout
                <ul class="navbar-nav" style="position:absolute;float:right;z-index:1800;top:0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">theme</a>
                        <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" Onclick="setTheme('theme');">default</a>
							<a class="dropdown-item" Onclick="setTheme('cool-blue');">blue</a>
                            <a class="dropdown-item" Onclick="setTheme('orange');">orange</a>
							<a class="dropdown-item" Onclick="setTheme('green');">green</a>
                        </div>
                    </li>
                </ul>
            </div> -->
            <nav class="navbar navbar-expand-lg navbar-dark secondMenu z-depth-2">
                <div class="container-fluid">
                    <!-- Navbar brand -->
                    <a class="navbar-brand" href="#">FireStrap</a>
                    <!-- Collapse button -->
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav" aria-controls="basicExampleNav"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <!-- Collapsible content -->
                    <div class="collapse navbar-collapse" id="basicExampleNav">
                        <!-- Links -->
                        <ul class="navbar-nav mr-auto">
                            <li class="nav-item active">
                                <a class="nav-link" th:href="@{/clients/form}">Add Client
                                    <!-- <span class="sr-only">(current)</span> -->
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Features</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#">Pricing</a>
                            </li>

                            <!-- Dropdown -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Dropdown</a>
                                <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
                                    <a class="dropdown-item" href="#">Action</a>
                                    <a class="dropdown-item" href="#">Another action</a>
                                    <a class="dropdown-item" href="#">Something else here</a>
                                </div>
                            </li>
                            <!-- Links -->
                            <!-- <form class="form-inline">
                            <div class="md-form my-0">
                                <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
                            </div>
                            </form>-->
                            <!-- Dropdown -->
                        </ul>
                        <!-- <div class="navbar-nav">
                    <li class="nav-item dropdown float-right">
                        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
                            style="color:#FFF"><i class="far fa-user-circle"></i>&nbsp; Welcome , User</a>
                        <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="#">Profile</a>
                            <a class="dropdown-item" href="#">Logout</a>
                        </div>
                    </li>
                </div> -->
                    </div>
                    <!-- Collapsible content -->
                </div>

            </nav>
        </div>
        <div id="body">
            <div class="ml-4 mr-4 mt-3">
                <div class="row">
                    <div class="card-group">
                        <div class="col-md-3">
                            <div class="card z-depth-2">
								<div class="card-body">
									<div class="col-md-6 col-md-offset-3">
										<h2>Approvals</h2>
										<table class="table table-bordered">
											<tr>
												<th>Client</th>
												<th>Scope</th>
												<th>Expires at</th>
												<th>Actions</th>
											</tr>
											<tr th:each="app : ${approvals}">
												<td th:text="${app.clientId}"></td>
												<td th:text="${app.scope}"></td>
												<td th:text="${app.expiresAt}"></td>
												<td>
													<form action="/approval/revoke" method="POST">
														<input type="hidden" th:name="${_csrf.parameterName}"
															th:value="${_csrf.token}" /> <input type="hidden"
															name="userId" th:value="${app.userId}" /> <input
															type="hidden" name="clientId" th:value="${app.clientId}" />
														<input type="hidden" name="scope" th:value="${app.scope}" />
														<input type="hidden" name="expiresAt"
															th:value="${#dates.format(app.expiresAt, 'yyyy-MM-dd HH:mm:ss')}" />
														<input type="hidden" name="status"
															th:value="${app.status}" /> <input type="hidden"
															name="lastUpdatedAt"
															th:value="${#dates.format(app.lastUpdatedAt, 'yyyy-MM-dd HH:mm:ss')}" />
														<button type="submit" class="btn btn-danger btn-sm">
															<span class="fa fa-trash"></span>
														</button>
													</form>
												</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
                        </div>
                        <div class="col-md-9">
                            <div class="card box-shadow">                                
                                <div class="card-body">
                                   <div class="row">
        <div class="col-md-10 col-md-offset-1" sec:authorize="hasRole('ROLE_OAUTH_ADMIN')">
            <h2>Clients</h2>
             <a class="btn btn-success btn-sm float-right" th:href="@{/clients/form}">
                            <span class="fa fa-plus">&nbsp;Add Client</span>
                        </a>
            <table class="table table-bordered">
                <tr>
                    <th>Client ID</th>
                    <th>Resource IDs</th>
                    <th>Scopes</th>
                    <th>Grant Types</th>
                    <th>Roles</th>
                    <th>Actions</th>
                </tr>
                <tr th:each="client : ${clientDetails}">
                    <td th:text="${client.clientId}"></td>
                    <td th:text="${client.resourceIds}"></td>
                    <td th:text="${client.scope}"></td>
                    <td th:text="${client.authorizedGrantTypes}"></td>
                    <td th:text="${client.authorities}"></td>
                    <td>
                        <a class="btn btn-primary btn-sm" th:href="@{/clients/form?client=__${client.clientId}__}">
                            <span class="fa fa-edit"></span>
                        </a>
                        
                    </td>
                </tr>

            </table>
        </div>
    </div>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
        <div id="footer"></div>
    </div>
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.5.15/js/mdb.min.js"></script>
    <script>
        function setTheme(theme) {
            $("#theme").attr("href", "css/" + theme + ".css");
        }
    </script>
</body>

</html>